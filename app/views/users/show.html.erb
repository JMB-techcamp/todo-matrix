<!-- "/app/assets/stylesheets/mypage_style.css" -->
<% max_todo_length = 7%>
<header>
  <div class="title"><h1>My Page</h1></div>
  <div class="icon"><a href="/todos/new" class="btn"><i class="fas fa-plus fa-5x"></i><div class="icon-text">追加</div></a></div>
  <div class="icon"><a href="/users/todos" class="btn"> <i class="far fa-file-alt fa-5x"></i><div class="icon-text">TODO</div></a></div>
  <!-- <div class="icon"><a href="/users/todos" class="btn"> <i class="fas fa-search fa-5x"></i><div class="icon-text">検索</div></a></div> -->
  <div class="icon"  id="settings"><a href="" class="btn"><i class="fas fa-cog fa-5x"></i><div class="icon-text">設定</div></a></div>
</header>
<div class="todo-mat">
  <div class="contents-row">
    <div class="contents-left" id="important">
      <div class="contents-head"><h1>最優先</h1></div>
      <div class="contents-list">
      <% if @todos_important.present? then%>
        <%  @todos_important.each do |todo| %>
            <li>
              <a> <%= truncate(todo.title, length: max_todo_length) %></a>
            </li>
            <!-- <hr> -->
        <% end %>
      <% end %>
    </div>
    </div>
    <div class="contents-right" id="decide">
      <div class="contents-head"><h1>なるべくやる</h1></div>
      <div class="contents-list">
      <% if @todos_decide.present? then%>
        <%  @todos_decide.each do |todo| %>
            <li>
              <a > <%= truncate(todo.title, length: max_todo_length) %></a>
            </li>
            <!-- <hr> -->
        <% end %>
      <% end %>
    </div>
    </div>
  </div>
  <!-- <hr> -->
  <div class="contents-row">
    <div class="contents-left" id="delegate">
      <div class="contents-head"><h1>期限が近い</h1></div>
      <div class="contents-list">
      <% if @todos_delegate.present? then%>
        <%  @todos_delegate.each do |todo| %>
            <li>
              <!-- <div class="urgent"><i class="far fa-clock fa-2x"></i></div> -->
              <a><%= truncate(todo.title, length: max_todo_length) %></a>
            </li>
            <!-- <hr> -->
        <% end %>
      <% end %>
    </div>
    </div>
    <div class="contents-right" id="delete">
      <div class="contents-head"><h1>後回し</h1></div>
      <div class="contents-list">
      <% if @todos_delete.present? then%>
        <%  @todos_delete.each do |todo| %>
            <li>
                <a><%= truncate(todo.title, length: max_todo_length) %></a>
            </li>
            <!-- <hr> -->
        <% end %>
      <% end %>
    </div>
    </div>
  </div>
</div>

<!-- モーダルウインドウ -->
<div id="modal-main1" class="modal">
  <h1>すぐに片付けよう！</h1>
  <% if @todos_important.present? then%>
    <%  @todos_important.each do |todo| %>
        <li>
          <a href=<%="/todos/#{todo.id}"%>><%= todo.title%></a>
        </li>
        <!-- <hr> -->
    <% end %>
  <% end %>
</div>

<div id="modal-main2" class="modal">
  <h1>時間を確保してやろう！</h1>
  <% if @todos_decide.present? then%>
    <%  @todos_decide.each do |todo| %>
        <li>
          <a href=<%="/todos/#{todo.id}"%>><%= todo.title%></a>
        </li>
        <!-- <hr> -->
    <% end %>
  <% end %>
</div>

<div id="modal-main3" class="modal">
  <h1>なるべく人に任せてみよう！</h1>
  <% if @todos_delegate.present? then%>
    <%  @todos_delegate.each do |todo| %>
        <li>
          <!-- <div class="urgent"><i class="far fa-clock fa-2x"></i></div> -->
          <a href=<%="/todos/#{todo.id}"%>><%= todo.title%></a>
        </li>
        <!-- <hr> -->
    <% end %>
  <% end %>
</div>

<div id="modal-main4" class="modal">
  <h1>これは後回しにしよう！</h1>
  <% if @todos_delete.present? then%>
    <%  @todos_delete.each do |todo| %>
        <li>
            <a href=<%="/todos/#{todo.id}"%>><%= todo.title%></a>
        </li>
        <!-- <hr> -->
    <% end %>
  <% end %>
</div>

<div id="modal-setting" class="modal">
  <li><a href="<%= edit_user_registration_path %>">ユーザー情報の編集</a></li>
  <li><%= link_to "/users/sign_out", method: :delete do %>サインアウト<% end %></li>
</div>
